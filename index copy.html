<!DOCTYPE html>
<html lang="en">
  
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <link rel="stylesheet" href="style/style.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet">
  </head>
  
<body>
  <div id="container">
    
    <div id="main-game">
      <a id="rock" class="btn">ROCK</a>
      <a id="paper" class="btn">PAPER</a>
      <a id="scissors" class="btn">SCISSORS</a>
    </div>
    
    <div id="scoreboard">
    </div>
    
  </div>
  
  <script>

    const rock = document.getElementById('rock');
    const paper = document.getElementById('paper');
    const scissors = document.getElementById('scissors');
    const btn = document.querySelector('.btn');
    const scoreBoard = document.querySelector('div#scoreboard');

    let score = 0;
    let runtime = 0;

    // if the amount of the para is > 5, then trigger the score

    rock.addEventListener('click', function () {
      playRound('rock', computerPlay());
    });
    paper.addEventListener('click', function () {
      playRound('paper', computerPlay());
    });
    scissors.addEventListener('click', function () {
      playRound('scissors', computerPlay());
    });


    function drawNum() {
      return Math.floor(Math.random() * 3);
    }

    function computerPlay() {
      if (drawNum() == 0) {
        return 'rock';
      } else if (drawNum() == 1) {
        return 'paper';
      } else {
        return 'scissors';
      }
    }

    function playRound(playerSelection, computerSelection) {

      if (playerSelection == 'rock' && computerSelection == 'scissors') {
        let para = document.createElement("p");
        para.innerHTML = `The computer has selected ${computerSelection}, You win!`;
        para.style.color = 'White';
        para.style.padding = '20px';
        para.style.transition = '0.3s';
        document.getElementById("scoreboard").appendChild(para);
        return [score = score + 1, runtime = runtime + 1];
      } else if (playerSelection == 'paper' && computerSelection == 'rock') {
        let para = document.createElement("p");
        para.innerHTML = `The computer has selected ${computerSelection}, You win!`;
        para.style.color = 'White';
        para.style.padding = '20px';
        para.style.transition = '0.3s';
        document.getElementById("scoreboard").appendChild(para);
        return [score = score + 1, runtime = runtime + 1];
      } else if (playerSelection == 'scissors' && computerSelection == 'paper') {
        let para = document.createElement("p");
        para.innerHTML = `The computer has selected ${computerSelection}, You win!`;
        para.style.color = 'White';
        para.style.padding = '20px';
        para.style.transition = '0.3s';
        document.getElementById("scoreboard").appendChild(para);
        return [score = score + 1, runtime = runtime + 1];
      } else if (playerSelection == computerSelection) {
        let para = document.createElement("p");
        para.innerHTML = `The computer has selected ${computerSelection}, Draw!`;
        para.style.color = 'White';
        para.style.padding = '20px';
        para.style.transition = '0.3s';
        document.getElementById("scoreboard").appendChild(para);
        return [score = score + 0, runtime = runtime + 1];
      } else if (playerSelection == 'rock' && computerSelection == 'paper') {
        let para = document.createElement("p");
        para.innerHTML = `The computer has selected ${computerSelection}, You Lose!`;
        para.style.color = 'White';
        para.style.padding = '20px';
        para.style.transition = '0.3s';
        document.getElementById("scoreboard").appendChild(para);
        return [score = score - 1, runtime = runtime + 1];
      } else if (playerSelection == 'paper' && computerSelection == 'scissors') {
        let para = document.createElement("p");
        para.innerHTML = `The computer has selected ${computerSelection}, You Lose!`;
        para.style.color = 'White';
        para.style.padding = '20px';
        para.style.transition = '0.3s';
        document.getElementById("scoreboard").appendChild(para);
        return [score = score - 1, runtime = runtime + 1];
      } else if (playerSelection == 'scissors' && computerSelection == 'rock') {
        let para = document.createElement("p");
        para.innerHTML = `The computer has selected ${computerSelection}, You Lose!`;
        para.style.color = 'White';
        para.style.padding = '20px';
        para.style.transition = '0.3s';
        document.getElementById("scoreboard").appendChild(para);
        return [score = score - 1, runtime = runtime + 1];
      }
    }

    function displayWinner() {

      if (score > 0) {
        let para = document.createElement("p");
        para.innerHTML = `You win!`;
        para.style.color = 'White';
        para.style.padding = '20px';
        para.style.transition = '0.3s';
        document.getElementById("scoreboard").appendChild(para);
      } else if (score = 0) {
        let para = document.createElement("p");
        para.innerHTML = `Draw!`;
        para.style.color = 'White';
        para.style.padding = '20px';
        para.style.transition = '0.3s';
        document.getElementById("scoreboard").appendChild(para);
      } else if (score < 0) {
        let para = document.createElement("p");
        para.innerHTML = `You Lose!`;
        para.style.color = 'White';
        para.style.padding = '20px';
        para.style.transition = '0.3s';
        document.getElementById("scoreboard").appendChild(para);
      }

    }


    if (runtime >= 5) {
      displayWinner();
    }








  </script>
</body>

</html>